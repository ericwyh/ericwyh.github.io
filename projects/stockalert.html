<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Eric Y. Wang</title>
  <link rel="shortcut icon" href="myicon.ico" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="../main.css">
</head>
<body class="center-block">
  <div class="content">
    <br>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-offset-4"></div>
        <div class="col-md-4">
          <div class="input-group">
          <input type="text" placeholder="Symbol" class="form-control" id="symbol">
          <span class="input-group-btn">
            <button onclick="getQuote();" class="btn btn-primary" type="button">Get Quote</button>
          </span>
        </div>
        </div>
        <div class="col-md-offset-4"></div>
        
      </div>
      <div class="row">
    
      </div>
      <div class="row">
    
      </div>
      <div class="row">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="panel-title"><b>Results:</b></h3>
          </div>
          <div class="panel-body">
            <div class="results"></div>
            <button class="btn btn-sm pull-right">New Search</button>
          </div>
      </div>
    </div>
    
    
  
  
    <!--<span class="glyphicon glyphicon-time"></span>-->
    
    
    <script type="text/javascript">
      $('.panel').hide();
      function getQuote() {
        var symbol = document.getElementById("symbol").value;
        var script = document.createElement('script');
        var query = 'select * from yahoo.finance.quote where symbol in ("'+symbol+'")';
        script.setAttribute('src', 'https://query.yahooapis.com/v1/public/yql?q='+query+'&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=printQuote');
        document.body.appendChild(script);
      }
      
      function printQuote(data) {
        $('.panel').show();
        $('.col-md-4').hide();
        var quote = data.query.results.quote;
        var results = "";
        results = '<dl class="dl-horizontal"> <dt>Name</dt>' + 
                  '<dd>' + quote.Name + '</dd>' +
                  '<dt>Symbol</dt>' + '<dd>' + quote.Symbol + '</dd>' +
                  '<dt>Last Trade Price</dt>' + '<dd>' + quote.LastTradePriceOnly + '</dd>' +
                  '<dt>Stock Exchange</dt>' + '<dd>' + quote.StockExchange + '</dd>' +
                  '<dt>Day\'s Range</dt>' + '<dd>' + quote.DaysRange + '</dd>' +
                  '</dl>';
         
        $('.results').html(results);
      }
      $('.btn-sm').click(function() {
          $('.panel').hide();
          $('.col-md-4').show();
          $('#symbol').val('');
      });
      
      function isMobile() {
        if(window.innerWidth <= 800 && window.innerHeight <= 600) {
          return true;
        } else {
          return false;
        }
      }
      
      $( document ).ready(function() {
        if(isMobile()) {
          $('body').css('width','100%');
        }
      });
    </script>
</div>
</body>
</html>
